
## О чем ACID

- `Atomicity` - транзакция либо выполнена полностью, либо не выполнена вообще
  
- `Consistency` - транзакция переводит БД из одного возможного состояния в другое (то есть фиксирует только допустимые результаты)
  
- `Isolation` - во время выполнения транзакции параллельные транзакции не оказывают на нее влияние
  
- `Durability` - после завершения транзакции внесенные изменения останутся неизменными

### Isolation
Определяет, как транзакции могут взаимодействовать между собой, насколько сильно могут пересеваться и мешать друг другу при параллельной работе.


## Уровни изоляции транзакций
- Read uncommited
- Read commited
- Repeatable read
- Serializable

![[Pasted image 20250106202124.png]]

### Read uncommited

Самый слабый уровень изоляции, когда транзакция может видеть результаты других транзакций, даже если они еще не закоммичены. 

**ПОЧТИ ВЕЗДЕ ЗАПРЕЩЕНО ПО УМОЛЧАНИЮ!**

### Read commited

Во время изменения в двух параллельных транзакциях, транзакция может читать только закоммиченные изменения. Спасает от **грязного чтения**, но не спасает от двух других проблем.

> Решение: **REPEATABLE READ**

### Repeatable read

Пока транзакция не завершится, никто параллельно не может изменять или удалять строки, которые транзакция уже прочитала.

**Проблема:** Строки, которые используются в транзакции, никто не изменит. Но в ходе текущей транзакции могут быть добавлены другие строки 


### Serializable

Самый жесткий уровень изоляции, но самый тяжелый для БД и самый медленный для обработки запросов. 