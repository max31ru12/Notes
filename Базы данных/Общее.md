
## Порядок выполнения SQL-запроса
1) FROM
2) WHERE
3) GROUP BY
4) HAVING
5) SELECT
6) ORDER BY

## Алгоритмы JOIN'ов

### Nested loop
Каждая строка из первой таблицы сравнивается со всеми строками второй таблицы. Может быть оптимизировано с помощью сортировки одной из таблиц. Хорошо работает для небольших объемов данных в одной из таблиц. **Сложность: O(n * m)**

#### Когда использовать
- Когда из таблиц маленькая
- Когда нет индексов для ускорения поиска


### Merge join
Сравнивает строки из первой таблицы со строками из второй таблицы, пока не перестанут встречаться совпадения. Затем выполняет тоже самое для второй таблицы. Если совпадений нет, то переходит к той таблице, которая имеет меньшее значение сравненных строк. **Сложность: O(n + m)**, так как каждая строка читается только один раз

Сравнение происходит в служебной таблице в базе **tempdb**.

#### Когда используется
- когда данные отсортированы по ключу соединения
- когда данные можно быстро отсортировать
- для больших таблиц

### Hash join

Использует Hash-таблицы для ускорения поиска. Сначала строится хэш-таблица для одной из таблиц (обычно меньшей). Для каждой строки из 1 таблицы вычисляется хэш и проверяется наличие в первой таблице. **Сложность: O(n + m) в среднем случае**. Требует дополнительно памяти

#### Когда использовать
- неотсортированные таблицы
- большие таблицы
- одна из таблиц значительно меньше другой


## Нормальные формы
### 1 НФ
- Есть первичный ключ
- Одно значение в поле
- Поля имею данные одного типа

### 2 НФ
- 1 НФ
- Атрибуты полностью зависят от ПК (не могут зависеть от части составного ПК)

### 3 НФ
- 2 НФ
- Отсутствие транзитивных связей (не может быть ситуации, когда неключевой атрибут зависит от неключевого атрибута)