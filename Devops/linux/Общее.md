
## Горячие клавиши в Linux

### Переключение между сессиями

- `ctrl + alt + F1` - переключение между сессиями (F1, F2 и т.д.)
- `ctrl + alt + F7` - графическая сессия


## Переключение пользователя

### Переключиться на пользователя с именем `username`

```bash
su username
```

### Перейти в root

```bash
us -
```

### Выйти

```bash
exit
```

### Выполнить команду из-под другого пользователя

```bash
sudo -u username command # sudo -u user1 psql
```

### Списки активных сессий

```basg
loginctl list-sessions
```

### Посмотреть конкретную сессию

```bash
loginctl show-session <ID>
```

### Узнать всех залогиненных пользователей

```bash
who
```


## Поиск файлов

### Поиск файла

```bash
sudo find / -iname <имя>
```


## Права, получение права, работа с пользователем


У каждого файла/каталога есть:
- user (u) - владелец
- group (g) - группа (часто это первичная группа владельца)
- others (o) - все остальные

По 3 бита на каждую категорию: **rwx** - read, write, execute.

#### Изменение прав на файл

```bash
chmod u+x
chmod o+w
chmod u=rwx
```

#### Поменять владельца или группу

```bash
chown alice my_file.txt

chgrp devs my_file.txtды
```

#### Зайти под root с инициализацией

```bash
sudo -i
```

#### Подключиться по ssh с графикой

```bash
ssh -X root@192.168.0.1
```

#### Запустить GUI-сессию для текущего пользователя

```bash
startx
```

`Alt + N` - консольный вход, когда нет места на диске для gui-сессии

#### Посмотреть куда смотрит символическая ссылка

```bash
ls -la
```


## Работа с systemctl

Без параметров systemctl показывает список запущенных служб

Пример: `systemctl stop nginx`

Опции:
- `stop` остановить службу
- `restart` перезапустить
- `enable` включить автозапуск
- `disable` отключить автозапуск

#### Выполнить на удаленной машине

```bash
systemstl --host root@192.168.0.1 stop cron
```