
# Работа с сетью


## Интерфейсы, адреса, порты

### Посмотреть сетевые интерфейсы

```bash
ip -c a

ip -br -c a
```

### Показать маршрут до узла

```bash 
traceroute google.com
```

### Показать маршруты

```bash
ip route
```

### Активные порты `ss` (аналог `netstat`)

```bash
ss -tuln
```

- `-t` - tcp-соединения
- `-u` -udp-соединения
- `-l` - только слушающие порты (listening)
- `-n` - Не разрешать DNS (показывать именно ip-адреса)
- `-p` - показать PID процесса и его имя


### Проверить DNS

```bash
dig google.com +short
```


### Проверить доступность и стабильность маршрута (`mtr` = `ping` + `traceroute`)

```bash
mtr 8.8.8.8
```

- `-n` - без DNS
- `-b` - показывать имена и ip-адреса
- `-r` - выводит отчет и выходит
- `-c N` - отправить N пакетов
- `-T` - использовать TCP вместо ICMP
- `--json` - выводи в формате JSON

#### Проверить соединение по **tcp**

```bash
mtr -r -T -P 443 google.com
```


#### Обратиться к DHCP-серверу для выдачи ip-адреса

```bash
sudo dhclient eth2
```

